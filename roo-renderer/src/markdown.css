/* 🔥 Roo-Code MarkdownBlock 原生样式 - 100% 复制自 webview-ui/src/components/common/MarkdownBlock.tsx */
.roo-markdown {
	font-family:
		var(--vscode-font-family),
		system-ui,
		-apple-system,
		BlinkMacSystemFont,
		"Segoe UI",
		Roboto,
		Oxygen,
		Ubuntu,
		Cantarell,
		"Open Sans",
		"Helvetica Neue",
		sans-serif;
	font-size: var(--vscode-font-size, 13px);
}

.roo-markdown code:not(pre > code) {
	font-family: var(--vscode-editor-font-family, monospace);
	filter: saturation(110%) brightness(95%);
	color: var(--vscode-textPreformat-foreground) !important;
	background-color: var(--vscode-textPreformat-background) !important;
	padding: 0px 2px;
	white-space: pre-line;
	word-break: break-word;
	overflow-wrap: anywhere;
}

/* KaTeX styling */
.roo-markdown .katex {
	font-size: 1.1em;
	color: var(--vscode-editor-foreground);
	font-family: KaTeX_Main, "Times New Roman", serif;
	line-height: 1.2;
	white-space: normal;
	text-indent: 0;
}

.roo-markdown .katex-display {
	display: block;
	margin: 1em 0;
	text-align: center;
	padding: 0.5em;
	overflow-x: auto;
	overflow-y: hidden;
	background-color: var(--vscode-textCodeBlock-background);
	border-radius: 3px;
}

.roo-markdown .katex-error {
	color: var(--vscode-errorForeground);
}

.roo-markdown p,
.roo-markdown li,
.roo-markdown ol,
.roo-markdown ul {
	line-height: 1.25;
}

.roo-markdown ol,
.roo-markdown ul {
	padding-left: 2.5em;
	margin-left: 0;
}

.roo-markdown ol {
	list-style-type: decimal;
}

.roo-markdown ul {
	list-style-type: disc;
}

/* Nested list styles */
.roo-markdown ul ul {
	list-style-type: circle;
}

.roo-markdown ul ul ul {
	list-style-type: square;
}

.roo-markdown ol ol {
	list-style-type: lower-alpha;
}

.roo-markdown ol ol ol {
	list-style-type: lower-roman;
}

.roo-markdown p {
	white-space: pre-wrap;
	margin: 0.5em 0;
}

/* Prevent layout shifts during streaming */
.roo-markdown pre {
	min-height: 3em;
	transition: height 0.2s ease-out;
}

/* Code block container styling */
.roo-markdown div:has(> pre) {
	position: relative;
	contain: layout style;
}

.roo-markdown a {
	color: var(--vscode-textLink-foreground);
	text-decoration-line: underline;
	text-decoration-style: dotted;
	text-decoration-color: var(--vscode-textLink-foreground);
}

.roo-markdown a:hover {
	color: var(--vscode-textLink-activeForeground);
	text-decoration-style: solid;
	text-decoration-color: var(--vscode-textLink-activeForeground);
}

/* Table styles for remark-gfm */
.roo-markdown table {
	border-collapse: collapse;
	margin: 1em 0;
	width: auto;
	min-width: 50%;
	max-width: 100%;
	table-layout: fixed;
	border: 1px solid #cecece;
}

/* Table wrapper for horizontal scrolling */
.roo-markdown .table-wrapper {
	overflow-x: auto;
	margin: 1em 0;
}

.roo-markdown th,
.roo-markdown td {
	border: 1px solid #cecece;
	padding: 8px 12px;
	text-align: left;
	word-wrap: break-word;
	overflow-wrap: break-word;
}

.roo-markdown th {
	background-color: var(--vscode-editor-background);
	font-weight: 600;
	color: var(--vscode-foreground);
}

.roo-markdown tr:nth-child(even) {
	background-color: var(--vscode-editor-inactiveSelectionBackground);
}

.roo-markdown tr:hover {
	background-color: var(--vscode-list-hoverBackground);
}
